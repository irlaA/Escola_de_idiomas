<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Enderoço do Aluno</title>
</h:head>
<h:body>
	<div align="center">
		<h:form id="form1">

			<h:panelGrid columns="2">

				<p:outputLabel for="campoCidade" value="Cidade: " />
				<p:inputText id="campoCidade"
					value="#{alunoBean.aluno.endereço.cidade}" />

				<p:outputLabel for="campoBairro" value="Bairro: " />
				<p:inputText id="campoBairro" value="#{alunoBean.aluno.endereço.bairro}" />

				<p:outputLabel for="campoRua" value="Rua: " />
				<p:inputText id="campoRua" value="#{alunoBean.aluno.endereço.rua}" />

				<p:outputLabel for="campoNum" value="Número: " />
				<p:inputText id="campoNum"
					value="#{alunoBean.aluno.endereço.numero}" />

			</h:panelGrid>
			<br />
			<p:commandButton value="Salvar" action="#{alunoBean.salvar()}"  update="form2" />
			<p:commandButton value="Cancelar" action="#{alunoBean.voltar()}" update="form1" />

		</h:form>

		<br />
		<h:form id="form2">
			<p:dataTable value="#{alunoBean.listaAlunos}" var="ae">
				<p:column headerText="Nome do Aluno">
					<h:outputText value="#{ae.nome}" />
				</p:column>

				<p:column headerText="Cidade">
					<h:outputText value="#{ae.endereço.cidade}" />
				</p:column>

				<p:column headerText="Bairro">
					<h:outputText value="#{ae.endereço.bairro}" />
				</p:column>

				<p:column headerText="Rua">
					<h:outputText value="#{ae.endereço.rua}" />
				</p:column>

				<p:column headerText="Nº">
					<h:outputText value="#{ae.endereço.numero}" />
				</p:column>

				<p:column headerText="Ações">
					<p:commandLink value="Editar" update="form1">
						<f:setPropertyActionListener value="#{ae}" target="#{alunoBean.aluno}" />
					</p:commandLink>
				| <!-- separador -->
					<p:commandLink value="Excluir" action="#{alunoBean.excluir()}" update="form2">
						<f:setPropertyActionListener value="#{ae}" target="#{alunoBean.aluno}" />
					</p:commandLink>

				</p:column>

			</p:dataTable>

		</h:form>


	</div>
</h:body>
</html>